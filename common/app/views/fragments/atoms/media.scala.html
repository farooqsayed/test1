@import model.content.MediaAssetPlatform
@import model.content.MediaWrapper
@import model.ImageMedia

@(
    media: model.content.MediaAtom,
    displayCaption: Boolean,
    displayEndSlate: Boolean = false,
    mediaWrapper: Option[MediaWrapper],
    posterImageOverride: Option[ImageMedia] = None
)(implicit request: RequestHeader)

@{
    media match {
        case posterOnly if media.assets.isEmpty && media.posterImage.isDefined  =>
            views.html.fragments.atoms.posterImage(mediaWrapper, false, media.posterImage.get, media.title)
        case youtube if media.assets.headOption.filter(_.platform == MediaAssetPlatform.Youtube) =>
            views.html.fragments.atoms.youtube(
                media,
                displayCaption,
                displayDuration = true,
                displayEndSlate,
                mediaWrapper = mediaWrapper,
                posterImageOverride = posterImageOverride
            )
        case genericAsset if media.assets.nonEmpty => views.html.fragments.atoms.genericMedia(media, displayCaption, false)
        case _ =>
    }
}
